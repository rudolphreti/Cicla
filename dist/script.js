String.prototype.shuffle=function(){for(var e=this.split(""),t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}return e.join("")},window.addEventListener("load",(function(){var e=document.getElementById("key");e.addEventListener("click",(function(){document.getElementById("caret-position").innerHTML="Caret position: "+this.selectionStart})),e.addEventListener("keyup",(function(){document.getElementById("caret-position").innerHTML="Caret position: "+this.selectionStart}))})),window.shuffleKeyChars=function(){var e=document.getElementById("key");e.value=e.value.shuffle()},window.encrypteMessage=function(){var e=document.getElementById("message").value.split(""),t=document.getElementById("key").value.split(""),n=Array.from(new Set(e));console.log(n);var o=Array.from(new Set(t));console.log(o),n.forEach((function(e){o.includes(e)||console.log('There is no "'.concat(e,'" in key!'))}));var i=[];e.forEach((function(e,n){var o=!1;t.forEach((function(t,n){t!==e||i.includes(n)||o||(i.push(n),o=!0)}))})),document.getElementById("message-encrypted").value=i.join(",")},window.decrypteMessage=function(){var e=document.getElementById("message-encrypted").value.split(","),t=document.getElementById("key").value,n=(t.split(""),"");e.forEach((function(e,o){n+=t[parseInt(e)]})),document.getElementById("message-decrypted").innerText=n,document.getElementById("message-decrypted-title").style.display="flex",document.getElementById("message-decrypted").style.display="flex"};